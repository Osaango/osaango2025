---
import type { CollectionEntry } from 'astro:content';
import { Image } from 'astro:assets';

interface Props {
        post: CollectionEntry<'blog'>;
}

const { post } = Astro.props;
---

<article class="card">
        {post.data.img && (
                <Image src={post.data.img} alt={post.data.img_alt || ''} format="webp" width={400} />
        )}
        <h4><a href={`/blog/${post.id}/`}>{post.data.title}</a></h4>
        <p class="publish-date">{post.data.publishDate.toLocaleDateString()}</p>
        <p class="description">{post.data.description}</p>
</article>

<style>
        .card {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
                padding: 1.5rem;
                border: 1px solid var(--gray-800);
                border-radius: 0.75rem;
                background: var(--gradient-subtle);
                box-shadow: var(--shadow-sm);
                transition: transform 200ms ease, box-shadow var(--theme-transition);
                transform: translateZ(0);
        }

        .card:hover,
        .card:focus-within {
                box-shadow: var(--shadow-lg), 0 0 0 1px var(--accent-overlay);
                transform: translateY(-4px) scale(1.01);
        }

        .card img {
                width: 100%;
                aspect-ratio: 16 / 9;
                object-fit: cover;
                border-radius: 0.5rem;
        }

        .card h4 {
                margin: 0;
                font-size: var(--text-lg);
        }

        .publish-date {
                font-size: var(--text-xs);
                color: var(--gray-500);
        }

        .description {
                font-size: var(--text-sm);
                color: var(--gray-300);
        }

        @media (min-width: 50em) {
                .card {
                        border-radius: 1.5rem;
                }
        }
</style>
