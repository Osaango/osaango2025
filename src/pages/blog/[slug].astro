---
import { getCollection, render, type CollectionEntry } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

export async function getStaticPaths() {
        const posts = await getCollection('blog');
        return posts.map((post) => ({ params: { slug: post.id }, props: { post } }));
}

const { post } = Astro.props as { post: CollectionEntry<'blog'> };
const { Content } = await render(post);
---

<BaseLayout title={post.data.title} description={post.data.description}>
        <article class="wrapper stack gap-4 lg:gap-8">
                <h1>{post.data.title}</h1>
                <p class="publish-date">{post.data.publishDate.toLocaleDateString()}</p>
                <Content />
        </article>
</BaseLayout>

<style>
        h1 {
                font-size: var(--text-4xl);
                margin: 0;
        }

        .publish-date {
                font-size: var(--text-xs);
                color: var(--gray-500);
        }

        article :global(p) {
                font-size: var(--text-md);
                color: var(--gray-200);
        }
</style>
